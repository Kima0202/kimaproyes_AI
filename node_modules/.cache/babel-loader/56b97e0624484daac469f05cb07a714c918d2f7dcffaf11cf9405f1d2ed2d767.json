{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\aron_\\\\OneDrive\\\\Documents\\\\BOTCHATS\\\\bot y exel\\\\src\\\\app.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef, useEffect, useMemo } from 'react';\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"./components/ui/card\";\nimport { Button } from \"./components/ui/button\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"./components/ui/table\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"./components/ui/select\";\nimport { BarChart, LineChart, ScatterChart, AreaChart, PieChart, RadarChart, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Bar, Line, Scatter, Area, Pie, Radar, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Cell } from 'recharts';\nimport { Download, Upload, Brain, RefreshCw } from 'lucide-react';\nimport { Alert, AlertDescription, AlertTitle } from \"./components/ui/alert\";\nimport { Progress } from \"./components/ui/progress\";\nimport * as XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884d8', '#82ca9d'];\n\n// Componente para renderizar gráficos\nconst Chart = ({\n  type,\n  data,\n  columns\n}) => {\n  const commonProps = {\n    data,\n    margin: {\n      top: 5,\n      right: 30,\n      left: 20,\n      bottom: 5\n    }\n  };\n  switch (type) {\n    case 'bar':\n      return /*#__PURE__*/_jsxDEV(BarChart, {\n        ...commonProps,\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          dataKey: \"y\",\n          fill: \"#8884d8\",\n          name: columns.y\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this);\n    case 'line':\n      return /*#__PURE__*/_jsxDEV(LineChart, {\n        ...commonProps,\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          type: \"monotone\",\n          dataKey: \"y\",\n          stroke: \"#8884d8\",\n          name: columns.y\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this);\n    case 'scatter':\n      return /*#__PURE__*/_jsxDEV(ScatterChart, {\n        ...commonProps,\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"x\",\n          name: columns.x\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          dataKey: \"y\",\n          name: columns.y\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), columns.z && /*#__PURE__*/_jsxDEV(ZAxis, {\n          dataKey: \"z\",\n          range: [64, 144],\n          name: columns.z\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          cursor: {\n            strokeDasharray: '3 3'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Scatter, {\n          name: \"Datos\",\n          data: data,\n          fill: \"#8884d8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this);\n    case 'area':\n      return /*#__PURE__*/_jsxDEV(AreaChart, {\n        ...commonProps,\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Area, {\n          type: \"monotone\",\n          dataKey: \"y\",\n          stroke: \"#8884d8\",\n          fill: \"#8884d8\",\n          name: columns.y\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this);\n    case 'pie':\n      return /*#__PURE__*/_jsxDEV(PieChart, {\n        children: [/*#__PURE__*/_jsxDEV(Pie, {\n          data: data,\n          dataKey: \"y\",\n          nameKey: \"x\",\n          cx: \"50%\",\n          cy: \"50%\",\n          outerRadius: 80,\n          fill: \"#8884d8\",\n          label: true,\n          children: data.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n            fill: COLORS[index % COLORS.length]\n          }, `cell-${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this);\n    case 'radar':\n      return /*#__PURE__*/_jsxDEV(RadarChart, {\n        cx: \"50%\",\n        cy: \"50%\",\n        outerRadius: \"80%\",\n        data: data,\n        children: [/*#__PURE__*/_jsxDEV(PolarGrid, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PolarAngleAxis, {\n          dataKey: \"x\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PolarRadiusAxis, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Radar, {\n          name: columns.y,\n          dataKey: \"y\",\n          stroke: \"#8884d8\",\n          fill: \"#8884d8\",\n          fillOpacity: 0.6\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this);\n    default:\n      return null;\n  }\n};\n_c = Chart;\nexport default function AnalisisDatosExcelMejorado() {\n  _s();\n  const [workbook, setWorkbook] = useState(null);\n  const [currentSheet, setCurrentSheet] = useState('');\n  const [data, setData] = useState([]);\n  const [columns, setColumns] = useState([]);\n  const [chartType, setChartType] = useState('bar');\n  const [selectedColumns, setSelectedColumns] = useState({\n    x: '',\n    y: '',\n    z: ''\n  });\n  const [error, setError] = useState('');\n  const [aiInsights, setAiInsights] = useState('');\n  const [aiConfidence, setAiConfidence] = useState(70);\n  const [isTraining, setIsTraining] = useState(false);\n  const [summary, setSummary] = useState(null);\n  const fileInputRef = useRef(null);\n  const handleFileUpload = event => {\n    const file = event.target.files[0];\n    const reader = new FileReader();\n    reader.onload = e => {\n      try {\n        const wb = XLSX.read(e.target.result, {\n          type: 'binary'\n        });\n        setWorkbook(wb);\n        const firstSheetName = wb.SheetNames[0];\n        setCurrentSheet(firstSheetName);\n        const ws = wb.Sheets[firstSheetName];\n        const json = XLSX.utils.sheet_to_json(ws);\n        if (json.length > 0) {\n          setData(json);\n          const cols = Object.keys(json[0]);\n          setColumns(cols);\n          // Seleccionar automáticamente las primeras columnas numéricas\n          const numericColumns = cols.filter(col => typeof json[0][col] === 'number');\n          setSelectedColumns({\n            x: cols[0],\n            y: numericColumns[0] || '',\n            z: numericColumns[1] || ''\n          });\n          setError('');\n          generateSummary(json);\n        } else {\n          throw new Error('El archivo está vacío o no contiene datos válidos.');\n        }\n      } catch (err) {\n        setError(`Error al leer el archivo: ${err.message}`);\n      }\n    };\n    if (file) {\n      reader.readAsBinaryString(file);\n    }\n  };\n  const handleSheetChange = sheetName => {\n    setCurrentSheet(sheetName);\n    const ws = workbook.Sheets[sheetName];\n    const json = XLSX.utils.sheet_to_json(ws);\n    if (json.length > 0) {\n      setData(json);\n      const cols = Object.keys(json[0]);\n      setColumns(cols);\n      const numericColumns = cols.filter(col => typeof json[0][col] === 'number');\n      setSelectedColumns({\n        x: cols[0],\n        y: numericColumns[0] || '',\n        z: numericColumns[1] || ''\n      });\n      setError('');\n      generateSummary(json);\n    } else {\n      setError('La hoja seleccionada está vacía o no contiene datos válidos.');\n    }\n  };\n  const generateSummary = data => {\n    const numericColumns = columns.filter(column => typeof data[0][column] === 'number');\n    const summary = {};\n    numericColumns.forEach(column => {\n      const values = data.map(row => row[column]);\n      summary[column] = {\n        min: Math.min(...values),\n        max: Math.max(...values),\n        avg: values.reduce((a, b) => a + b, 0) / values.length,\n        sum: values.reduce((a, b) => a + b, 0)\n      };\n    });\n    setSummary(summary);\n  };\n  const chartData = useMemo(() => {\n    if (!selectedColumns.x || !selectedColumns.y || data.length === 0) return [];\n    return data.map(item => ({\n      x: item[selectedColumns.x],\n      y: parseFloat(item[selectedColumns.y]) || 0,\n      z: selectedColumns.z ? parseFloat(item[selectedColumns.z]) || 0 : undefined\n    }));\n  }, [data, selectedColumns]);\n  const renderSummaryChart = () => {\n    if (!summary) return null;\n    const summaryData = Object.entries(summary).map(([column, stats]) => ({\n      name: column,\n      min: stats.min,\n      max: stats.max,\n      avg: stats.avg\n    }));\n    return /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: 300,\n      children: /*#__PURE__*/_jsxDEV(BarChart, {\n        data: summaryData,\n        children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          dataKey: \"min\",\n          fill: \"#8884d8\",\n          name: \"M\\xEDnimo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          dataKey: \"max\",\n          fill: \"#82ca9d\",\n          name: \"M\\xE1ximo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Bar, {\n          dataKey: \"avg\",\n          fill: \"#ffc658\",\n          name: \"Promedio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this);\n  };\n  const handleDownload = () => {\n    const ws = XLSX.utils.json_to_sheet(data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, \"Datos Analizados\");\n    XLSX.writeFile(wb, \"datos_analizados_avanzados.xlsx\");\n  };\n  const generateAiInsights = useCallback(() => {\n    // Simulación de generación de insights con IA\n    const insights = [\"Se observa una correlación positiva entre las variables X e Y.\", \"Los datos muestran una tendencia creciente en los últimos períodos.\", \"Se detectan algunos valores atípicos que podrían requerir una investigación más profunda.\", \"La distribución de los datos sugiere una posible estacionalidad en los valores.\", \"Se recomienda realizar un análisis de regresión para predecir futuros valores.\"];\n    setAiInsights(insights[Math.floor(Math.random() * insights.length)]);\n  }, []);\n  const trainAI = () => {\n    setIsTraining(true);\n    let progress = 0;\n    const interval = setInterval(() => {\n      progress += 10;\n      setAiConfidence(prevConfidence => {\n        const newConfidence = prevConfidence + Math.random() * 2;\n        return newConfidence > 99 ? 99 : newConfidence;\n      });\n      if (progress >= 100) {\n        clearInterval(interval);\n        setIsTraining(false);\n        generateAiInsights();\n      }\n    }, 500);\n  };\n  useEffect(() => {\n    if (data.length > 0) {\n      generateAiInsights();\n    }\n  }, [data, generateAiInsights]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"w-full max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n        children: \"An\\xE1lisis de Datos Excel Mejorado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n        children: \"Carga tu archivo Excel para un an\\xE1lisis detallado con m\\xFAltiples gr\\xE1ficas y resumen general\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline\",\n          className: \"flex items-center\",\n          onClick: () => fileInputRef.current.click(),\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            className: \"mr-2 h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), \"Cargar Excel\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileInputRef,\n          onChange: handleFileUpload,\n          accept: \".xlsx,.xls\",\n          style: {\n            display: 'none'\n          },\n          \"aria-label\": \"Cargar archivo Excel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), workbook && /*#__PURE__*/_jsxDEV(Select, {\n          value: currentSheet,\n          onValueChange: handleSheetChange,\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-[180px]\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"Selecciona hoja\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: workbook.SheetNames.map(sheetName => /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: sheetName,\n              children: sheetName\n            }, sheetName, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"destructive\",\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this), columns.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          value: chartType,\n          onValueChange: setChartType,\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-[180px]\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"Tipo de gr\\xE1fico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"bar\",\n              children: \"Gr\\xE1fico de Barras\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"line\",\n              children: \"Gr\\xE1fico de L\\xEDneas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"scatter\",\n              children: \"Gr\\xE1fico de Dispersi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"area\",\n              children: \"Gr\\xE1fico de \\xC1rea\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"pie\",\n              children: \"Gr\\xE1fico Circular\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"radar\",\n              children: \"Gr\\xE1fico de Radar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: selectedColumns.x,\n          onValueChange: value => setSelectedColumns(prev => ({\n            ...prev,\n            x: value\n          })),\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-[180px]\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"Eje X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: columns.map(column => /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: column,\n              children: column\n            }, column, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          value: selectedColumns.y,\n          onValueChange: value => setSelectedColumns(prev => ({\n            ...prev,\n            y: value\n          })),\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-[180px]\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"Eje Y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: columns.map(column => /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: column,\n              children: column\n            }, column, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), chartType === 'scatter' && /*#__PURE__*/_jsxDEV(Select, {\n          value: selectedColumns.z,\n          onValueChange: value => setSelectedColumns(prev => ({\n            ...prev,\n            z: value\n          })),\n          children: [/*#__PURE__*/_jsxDEV(SelectTrigger, {\n            className: \"w-[180px]\",\n            children: /*#__PURE__*/_jsxDEV(SelectValue, {\n              placeholder: \"Eje Z (opcional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(SelectContent, {\n            children: [/*#__PURE__*/_jsxDEV(SelectItem, {\n              value: \"\",\n              children: \"Ninguno\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 19\n            }, this), columns.map(column => /*#__PURE__*/_jsxDEV(SelectItem, {\n              value: column,\n              children: column\n            }, column, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        \"aria-live\": \"polite\",\n        \"aria-atomic\": \"true\",\n        children: chartData.length > 0 && /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n          width: \"100%\",\n          height: 400,\n          children: /*#__PURE__*/_jsxDEV(Chart, {\n            type: chartType,\n            data: chartData,\n            columns: selectedColumns\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this), aiInsights && /*#__PURE__*/_jsxDEV(Alert, {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(Brain, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AlertTitle, {\n          children: [\"Insights de IA (Confianza: \", aiConfidence.toFixed(2), \"%)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AlertDescription, {\n          children: aiInsights\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: trainAI,\n          disabled: isTraining,\n          children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"mr-2 h-4 w-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), isTraining ? 'Entrenando...' : 'Entrenar IA']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), isTraining && /*#__PURE__*/_jsxDEV(Progress, {\n          value: aiConfidence,\n          className: \"w-[60%]\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), summary && /*#__PURE__*/_jsxDEV(Card, {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: /*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Resumen General\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [renderSummaryChart(), /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(TableHeader, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  children: \"Columna\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableHead, {\n                  children: \"M\\xEDnimo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableHead, {\n                  children: \"M\\xE1ximo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableHead, {\n                  children: \"Promedio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableHead, {\n                  children: \"Suma\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: Object.entries(summary).map(([column, stats]) => /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: column\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: stats.min.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: stats.max.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: stats.avg.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: stats.sum.toFixed(2)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 23\n                }, this)]\n              }, column, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }, this), data.length > 0 && /*#__PURE__*/_jsxDEV(Table, {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(TableHeader, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: columns.map(column => /*#__PURE__*/_jsxDEV(TableHead, {\n              children: column\n            }, column, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: data.slice(0, 10).map((row, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n            children: columns.map(column => /*#__PURE__*/_jsxDEV(TableCell, {\n              children: row[column]\n            }, column, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 21\n            }, this))\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n      children: data.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleDownload,\n        className: \"ml-auto\",\n        children: [/*#__PURE__*/_jsxDEV(Download, {\n          className: \"mr-2 h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this), \"Descargar Excel\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n}\n_s(AnalisisDatosExcelMejorado, \"Jd9V8uHEesYubl1WzVQKrb4jBg4=\");\n_c2 = AnalisisDatosExcelMejorado;\nvar _c, _c2;\n$RefreshReg$(_c, \"Chart\");\n$RefreshReg$(_c2, \"AnalisisDatosExcelMejorado\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useRef","useEffect","useMemo","Card","CardContent","CardDescription","CardFooter","CardHeader","CardTitle","Button","Table","TableBody","TableCell","TableHead","TableHeader","TableRow","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","BarChart","LineChart","ScatterChart","AreaChart","PieChart","RadarChart","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Bar","Line","Scatter","Area","Pie","Radar","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Cell","Download","Upload","Brain","RefreshCw","Alert","AlertDescription","AlertTitle","Progress","XLSX","jsxDEV","_jsxDEV","COLORS","Chart","type","data","columns","commonProps","margin","top","right","left","bottom","children","strokeDasharray","fileName","lineNumber","columnNumber","dataKey","fill","name","y","stroke","x","z","ZAxis","range","cursor","nameKey","cx","cy","outerRadius","label","map","entry","index","length","fillOpacity","_c","AnalisisDatosExcelMejorado","workbook","setWorkbook","currentSheet","setCurrentSheet","setData","setColumns","chartType","setChartType","selectedColumns","setSelectedColumns","error","setError","aiInsights","setAiInsights","aiConfidence","setAiConfidence","isTraining","setIsTraining","summary","setSummary","fileInputRef","handleFileUpload","event","file","target","files","reader","FileReader","onload","e","wb","read","result","firstSheetName","SheetNames","ws","Sheets","json","utils","sheet_to_json","cols","Object","keys","numericColumns","filter","col","generateSummary","Error","err","message","readAsBinaryString","handleSheetChange","sheetName","column","forEach","values","row","min","Math","max","avg","reduce","a","b","sum","chartData","item","parseFloat","undefined","renderSummaryChart","summaryData","entries","stats","width","height","handleDownload","json_to_sheet","book_new","book_append_sheet","writeFile","generateAiInsights","useCallback","insights","floor","random","trainAI","progress","interval","setInterval","prevConfidence","newConfidence","clearInterval","className","variant","onClick","current","click","ref","onChange","accept","style","display","value","onValueChange","placeholder","prev","toFixed","disabled","slice","_c2","$RefreshReg$"],"sources":["C:/Users/aron_/OneDrive/Documents/BOTCHATS/bot y exel/src/app.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useRef, useEffect, useMemo } from 'react'\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"./components/ui/card\"\r\nimport { Button } from \"./components/ui/button\"\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"./components/ui/table\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"./components/ui/select\"\r\nimport { BarChart, LineChart, ScatterChart, AreaChart, PieChart, RadarChart, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Bar, Line, Scatter, Area, Pie, Radar, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Cell } from 'recharts'\r\nimport { Download, Upload, Brain, RefreshCw } from 'lucide-react'\r\nimport { Alert, AlertDescription, AlertTitle } from \"./components/ui/alert\"\r\nimport { Progress } from \"./components/ui/progress\"\r\nimport * as XLSX from 'xlsx'\r\n\r\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#8884d8', '#82ca9d']\r\n\r\n// Componente para renderizar gráficos\r\nconst Chart = ({ type, data, columns }) => {\r\n  const commonProps = {\r\n    data,\r\n    margin: { top: 5, right: 30, left: 20, bottom: 5 },\r\n  }\r\n\r\n  switch(type) {\r\n    case 'bar':\r\n      return (\r\n        <BarChart {...commonProps}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"x\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Bar dataKey=\"y\" fill=\"#8884d8\" name={columns.y} />\r\n        </BarChart>\r\n      )\r\n    case 'line':\r\n      return (\r\n        <LineChart {...commonProps}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"x\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Line type=\"monotone\" dataKey=\"y\" stroke=\"#8884d8\" name={columns.y} />\r\n        </LineChart>\r\n      )\r\n    case 'scatter':\r\n      return (\r\n        <ScatterChart {...commonProps}>\r\n          <CartesianGrid />\r\n          <XAxis dataKey=\"x\" name={columns.x} />\r\n          <YAxis dataKey=\"y\" name={columns.y} />\r\n          {columns.z && <ZAxis dataKey=\"z\" range={[64, 144]} name={columns.z} />}\r\n          <Tooltip cursor={{ strokeDasharray: '3 3' }} />\r\n          <Legend />\r\n          <Scatter name=\"Datos\" data={data} fill=\"#8884d8\" />\r\n        </ScatterChart>\r\n      )\r\n    case 'area':\r\n      return (\r\n        <AreaChart {...commonProps}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"x\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Area type=\"monotone\" dataKey=\"y\" stroke=\"#8884d8\" fill=\"#8884d8\" name={columns.y} />\r\n        </AreaChart>\r\n      )\r\n    case 'pie':\r\n      return (\r\n        <PieChart>\r\n          <Pie data={data} dataKey=\"y\" nameKey=\"x\" cx=\"50%\" cy=\"50%\" outerRadius={80} fill=\"#8884d8\" label>\r\n            {data.map((entry, index) => (\r\n              <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n            ))}\r\n          </Pie>\r\n          <Tooltip />\r\n          <Legend />\r\n        </PieChart>\r\n      )\r\n    case 'radar':\r\n      return (\r\n        <RadarChart cx=\"50%\" cy=\"50%\" outerRadius=\"80%\" data={data}>\r\n          <PolarGrid />\r\n          <PolarAngleAxis dataKey=\"x\" />\r\n          <PolarRadiusAxis />\r\n          <Radar name={columns.y} dataKey=\"y\" stroke=\"#8884d8\" fill=\"#8884d8\" fillOpacity={0.6} />\r\n          <Legend />\r\n        </RadarChart>\r\n      )\r\n    default:\r\n      return null\r\n  }\r\n}\r\n\r\nexport default function AnalisisDatosExcelMejorado() {\r\n  const [workbook, setWorkbook] = useState(null)\r\n  const [currentSheet, setCurrentSheet] = useState('')\r\n  const [data, setData] = useState([])\r\n  const [columns, setColumns] = useState([])\r\n  const [chartType, setChartType] = useState('bar')\r\n  const [selectedColumns, setSelectedColumns] = useState({ x: '', y: '', z: '' })\r\n  const [error, setError] = useState('')\r\n  const [aiInsights, setAiInsights] = useState('')\r\n  const [aiConfidence, setAiConfidence] = useState(70)\r\n  const [isTraining, setIsTraining] = useState(false)\r\n  const [summary, setSummary] = useState(null)\r\n  const fileInputRef = useRef(null)\r\n\r\n  const handleFileUpload = (event) => {\r\n    const file = event.target.files[0]\r\n    const reader = new FileReader()\r\n\r\n    reader.onload = (e) => {\r\n      try {\r\n        const wb = XLSX.read(e.target.result, { type: 'binary' })\r\n        setWorkbook(wb)\r\n        const firstSheetName = wb.SheetNames[0]\r\n        setCurrentSheet(firstSheetName)\r\n        const ws = wb.Sheets[firstSheetName]\r\n        const json = XLSX.utils.sheet_to_json(ws)\r\n\r\n        if (json.length > 0) {\r\n          setData(json)\r\n          const cols = Object.keys(json[0])\r\n          setColumns(cols)\r\n          // Seleccionar automáticamente las primeras columnas numéricas\r\n          const numericColumns = cols.filter(col => typeof json[0][col] === 'number')\r\n          setSelectedColumns({ \r\n            x: cols[0], \r\n            y: numericColumns[0] || '', \r\n            z: numericColumns[1] || '' \r\n          })\r\n          setError('')\r\n          generateSummary(json)\r\n        } else {\r\n          throw new Error('El archivo está vacío o no contiene datos válidos.')\r\n        }\r\n      } catch (err) {\r\n        setError(`Error al leer el archivo: ${err.message}`)\r\n      }\r\n    }\r\n\r\n    if (file) {\r\n      reader.readAsBinaryString(file)\r\n    }\r\n  }\r\n\r\n  const handleSheetChange = (sheetName) => {\r\n    setCurrentSheet(sheetName)\r\n    const ws = workbook.Sheets[sheetName]\r\n    const json = XLSX.utils.sheet_to_json(ws)\r\n\r\n    if (json.length > 0) {\r\n      setData(json)\r\n      const cols = Object.keys(json[0])\r\n      setColumns(cols)\r\n      const numericColumns = cols.filter(col => typeof json[0][col] === 'number')\r\n      setSelectedColumns({ \r\n        x: cols[0], \r\n        y: numericColumns[0] || '', \r\n        z: numericColumns[1] || '' \r\n      })\r\n      setError('')\r\n      generateSummary(json)\r\n    } else {\r\n      setError('La hoja seleccionada está vacía o no contiene datos válidos.')\r\n    }\r\n  }\r\n\r\n  const generateSummary = (data) => {\r\n    const numericColumns = columns.filter(column => typeof data[0][column] === 'number')\r\n    const summary = {}\r\n\r\n    numericColumns.forEach(column => {\r\n      const values = data.map(row => row[column])\r\n      summary[column] = {\r\n        min: Math.min(...values),\r\n        max: Math.max(...values),\r\n        avg: values.reduce((a, b) => a + b, 0) / values.length,\r\n        sum: values.reduce((a, b) => a + b, 0)\r\n      }\r\n    })\r\n\r\n    setSummary(summary)\r\n  }\r\n\r\n  const chartData = useMemo(() => {\r\n    if (!selectedColumns.x || !selectedColumns.y || data.length === 0) return []\r\n\r\n    return data.map(item => ({\r\n      x: item[selectedColumns.x],\r\n      y: parseFloat(item[selectedColumns.y]) || 0,\r\n      z: selectedColumns.z ? parseFloat(item[selectedColumns.z]) || 0 : undefined\r\n    }))\r\n  }, [data, selectedColumns])\r\n\r\n  const renderSummaryChart = () => {\r\n    if (!summary) return null\r\n\r\n    const summaryData = Object.entries(summary).map(([column, stats]) => ({\r\n      name: column,\r\n      min: stats.min,\r\n      max: stats.max,\r\n      avg: stats.avg,\r\n    }))\r\n\r\n    return (\r\n      <ResponsiveContainer width=\"100%\" height={300}>\r\n        <BarChart data={summaryData}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"name\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Bar dataKey=\"min\" fill=\"#8884d8\" name=\"Mínimo\" />\r\n          <Bar dataKey=\"max\" fill=\"#82ca9d\" name=\"Máximo\" />\r\n          <Bar dataKey=\"avg\" fill=\"#ffc658\" name=\"Promedio\" />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    )\r\n  }\r\n\r\n  const handleDownload = () => {\r\n    const ws = XLSX.utils.json_to_sheet(data)\r\n    const wb = XLSX.utils.book_new()\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Datos Analizados\")\r\n    XLSX.writeFile(wb, \"datos_analizados_avanzados.xlsx\")\r\n  }\r\n\r\n  const generateAiInsights = useCallback(() => {\r\n    // Simulación de generación de insights con IA\r\n    const insights = [\r\n      \"Se observa una correlación positiva entre las variables X e Y.\",\r\n      \"Los datos muestran una tendencia creciente en los últimos períodos.\",\r\n      \"Se detectan algunos valores atípicos que podrían requerir una investigación más profunda.\",\r\n      \"La distribución de los datos sugiere una posible estacionalidad en los valores.\",\r\n      \"Se recomienda realizar un análisis de regresión para predecir futuros valores.\"\r\n    ]\r\n    setAiInsights(insights[Math.floor(Math.random() * insights.length)])\r\n  }, [])\r\n\r\n  const trainAI = () => {\r\n    setIsTraining(true)\r\n    let progress = 0\r\n    const interval = setInterval(() => {\r\n      progress += 10\r\n      setAiConfidence(prevConfidence => {\r\n        const newConfidence = prevConfidence + Math.random() * 2\r\n        return newConfidence > 99 ? 99 : newConfidence\r\n      })\r\n      if (progress >= 100) {\r\n        clearInterval(interval)\r\n        setIsTraining(false)\r\n        generateAiInsights()\r\n      }\r\n    }, 500)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (data.length > 0) {\r\n      generateAiInsights()\r\n    }\r\n  }, [data, generateAiInsights])\r\n\r\n  return (\r\n    <Card className=\"w-full max-w-4xl mx-auto\">\r\n      <CardHeader>\r\n        <CardTitle>Análisis de Datos Excel Mejorado</CardTitle>\r\n        <CardDescription>Carga tu archivo Excel para un análisis detallado con múltiples gráficas y resumen general</CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <Button variant=\"outline\" className=\"flex items-center\" onClick={() => fileInputRef.current.click()}>\r\n            <Upload className=\"mr-2 h-4 w-4\" />\r\n            Cargar Excel\r\n          </Button>\r\n          <input\r\n            type=\"file\"\r\n            ref={fileInputRef}\r\n            onChange={handleFileUpload}\r\n            accept=\".xlsx,.xls\"\r\n            style={{ display: 'none' }}\r\n            aria-label=\"Cargar archivo Excel\"\r\n          />\r\n          {workbook && (\r\n            <Select value={currentSheet} onValueChange={handleSheetChange}>\r\n              <SelectTrigger className=\"w-[180px]\">\r\n                <SelectValue placeholder=\"Selecciona hoja\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {workbook.SheetNames.map((sheetName) => (\r\n                  <SelectItem key={sheetName} value={sheetName}>\r\n                    {sheetName}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          )}\r\n        </div>\r\n        {error && (\r\n          <Alert variant=\"destructive\" className=\"mb-4\">\r\n            <AlertTitle>Error</AlertTitle>\r\n            <AlertDescription>{error}</AlertDescription>\r\n          </Alert>\r\n        )}\r\n        {columns.length > 0 && (\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <Select value={chartType} onValueChange={setChartType}>\r\n              <SelectTrigger className=\"w-[180px]\">\r\n                <SelectValue placeholder=\"Tipo de gráfico\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"bar\">Gráfico de Barras</SelectItem>\r\n                <SelectItem value=\"line\">Gráfico de Líneas</SelectItem>\r\n                <SelectItem value=\"scatter\">Gráfico de Dispersión</SelectItem>\r\n                <SelectItem value=\"area\">Gráfico de Área</SelectItem>\r\n                <SelectItem value=\"pie\">Gráfico Circular</SelectItem>\r\n                <SelectItem value=\"radar\">Gráfico de Radar</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n            <Select value={selectedColumns.x} onValueChange={(value) => setSelectedColumns(prev => ({ ...prev, x: value }))}>\r\n              <SelectTrigger className=\"w-[180px]\">\r\n                <SelectValue placeholder=\"Eje X\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {columns.map((column) => (\r\n                  <SelectItem key={column} value={column}>\r\n                    {column}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n            <Select value={selectedColumns.y} onValueChange={(value) => setSelectedColumns(prev => ({ ...prev, y: value }))}>\r\n              <SelectTrigger className=\"w-[180px]\">\r\n                <SelectValue placeholder=\"Eje Y\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {columns.map((column) => (\r\n                  <SelectItem key={column} value={column}>\r\n                    {column}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n            {chartType === 'scatter' && (\r\n              <Select value={selectedColumns.z} onValueChange={(value) => setSelectedColumns(prev => ({ ...prev, z: value }))}>\r\n                <SelectTrigger  className=\"w-[180px]\">\r\n                  <SelectValue placeholder=\"Eje Z (opcional)\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"\">Ninguno</SelectItem>\r\n                  {columns.map((column) => (\r\n                    <SelectItem key={column} value={column}>\r\n                      {column}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            )}\r\n          </div>\r\n        )}\r\n        <div aria-live=\"polite\" aria-atomic=\"true\">\r\n          {chartData.length > 0 && (\r\n            <ResponsiveContainer width=\"100%\" height={400}>\r\n              <Chart type={chartType} data={chartData} columns={selectedColumns} />\r\n            </ResponsiveContainer>\r\n          )}\r\n        </div>\r\n        {aiInsights && (\r\n          <Alert className=\"mt-4\">\r\n            <Brain className=\"h-4 w-4\" />\r\n            <AlertTitle>Insights de IA (Confianza: {aiConfidence.toFixed(2)}%)</AlertTitle>\r\n            <AlertDescription>{aiInsights}</AlertDescription>\r\n          </Alert>\r\n        )}\r\n        <div className=\"mt-4 flex items-center justify-between\">\r\n          <Button onClick={trainAI} disabled={isTraining}>\r\n            <RefreshCw className=\"mr-2 h-4 w-4\" />\r\n            {isTraining ? 'Entrenando...' : 'Entrenar IA'}\r\n          </Button>\r\n          {isTraining && (\r\n            <Progress value={aiConfidence} className=\"w-[60%]\" />\r\n          )}\r\n        </div>\r\n        {summary && (\r\n          <Card className=\"mt-4\">\r\n            <CardHeader>\r\n              <CardTitle>Resumen General</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {renderSummaryChart()}\r\n              <Table>\r\n                <TableHeader>\r\n                  <TableRow>\r\n                    <TableHead>Columna</TableHead>\r\n                    <TableHead>Mínimo</TableHead>\r\n                    <TableHead>Máximo</TableHead>\r\n                    <TableHead>Promedio</TableHead>\r\n                    <TableHead>Suma</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {Object.entries(summary).map(([column, stats]) => (\r\n                    <TableRow key={column}>\r\n                      <TableCell>{column}</TableCell>\r\n                      <TableCell>{stats.min.toFixed(2)}</TableCell>\r\n                      <TableCell>{stats.max.toFixed(2)}</TableCell>\r\n                      <TableCell>{stats.avg.toFixed(2)}</TableCell>\r\n                      <TableCell>{stats.sum.toFixed(2)}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n        {data.length > 0 && (\r\n          <Table className=\"mt-4\">\r\n            <TableHeader>\r\n              <TableRow>\r\n                {columns.map((column) => (\r\n                  <TableHead key={column}>{column}</TableHead>\r\n                ))}\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {data.slice(0, 10).map((row, index) => (\r\n                <TableRow key={index}>\r\n                  {columns.map((column) => (\r\n                    <TableCell key={column}>{row[column]}</TableCell>\r\n                  ))}\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        )}\r\n      </CardContent>\r\n      <CardFooter>\r\n        {data.length > 0 && (\r\n          <Button onClick={handleDownload} className=\"ml-auto\">\r\n            <Download className=\"mr-2 h-4 w-4\" />\r\n            Descargar Excel\r\n          </Button>\r\n        )}\r\n      </CardFooter>\r\n    </Card>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}